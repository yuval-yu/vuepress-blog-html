<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>docker基础 | 余瑜的博客</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="https://cdn.jsdelivr.net/gh/yuyujson/cdn-images@latest/blog-images/20210214155749.jpg">
    <meta name="description" content="积一时之跬步,臻千里之遥程">
    <meta name="keywords" content="java博客,博客,java,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.6a96f710.css" as="style"><link rel="preload" href="/assets/js/app.b59d43b0.js" as="script"><link rel="preload" href="/assets/js/2.32a5b7d0.js" as="script"><link rel="preload" href="/assets/js/61.b5c08d00.js" as="script"><link rel="prefetch" href="/assets/js/10.78e68451.js"><link rel="prefetch" href="/assets/js/11.e109c3f5.js"><link rel="prefetch" href="/assets/js/12.6dce10b5.js"><link rel="prefetch" href="/assets/js/13.7fd8ed7d.js"><link rel="prefetch" href="/assets/js/14.27ab1f10.js"><link rel="prefetch" href="/assets/js/15.3cd3f218.js"><link rel="prefetch" href="/assets/js/16.cfadd324.js"><link rel="prefetch" href="/assets/js/17.519041ce.js"><link rel="prefetch" href="/assets/js/18.ed7e71f0.js"><link rel="prefetch" href="/assets/js/19.230facb8.js"><link rel="prefetch" href="/assets/js/20.6ef8123b.js"><link rel="prefetch" href="/assets/js/21.fb782380.js"><link rel="prefetch" href="/assets/js/22.cb6efb4d.js"><link rel="prefetch" href="/assets/js/23.15e01100.js"><link rel="prefetch" href="/assets/js/24.6d671eae.js"><link rel="prefetch" href="/assets/js/25.e8104fe5.js"><link rel="prefetch" href="/assets/js/26.14b8d08f.js"><link rel="prefetch" href="/assets/js/27.0f4ea0f3.js"><link rel="prefetch" href="/assets/js/28.1657c022.js"><link rel="prefetch" href="/assets/js/29.be912580.js"><link rel="prefetch" href="/assets/js/3.d5a86a18.js"><link rel="prefetch" href="/assets/js/30.508ee957.js"><link rel="prefetch" href="/assets/js/31.b82f4173.js"><link rel="prefetch" href="/assets/js/32.d3049547.js"><link rel="prefetch" href="/assets/js/33.07708f42.js"><link rel="prefetch" href="/assets/js/34.aec051bb.js"><link rel="prefetch" href="/assets/js/35.dd49be3f.js"><link rel="prefetch" href="/assets/js/36.9fd03482.js"><link rel="prefetch" href="/assets/js/37.330d8bb4.js"><link rel="prefetch" href="/assets/js/38.6b6ff415.js"><link rel="prefetch" href="/assets/js/39.0fe6da40.js"><link rel="prefetch" href="/assets/js/4.fee53103.js"><link rel="prefetch" href="/assets/js/40.e73843d6.js"><link rel="prefetch" href="/assets/js/41.2f93e056.js"><link rel="prefetch" href="/assets/js/42.947ed580.js"><link rel="prefetch" href="/assets/js/43.b9fcdfcb.js"><link rel="prefetch" href="/assets/js/44.ac650c37.js"><link rel="prefetch" href="/assets/js/45.28dca716.js"><link rel="prefetch" href="/assets/js/46.c6d9149f.js"><link rel="prefetch" href="/assets/js/47.48f5d292.js"><link rel="prefetch" href="/assets/js/48.b8c9e035.js"><link rel="prefetch" href="/assets/js/49.0befbcdf.js"><link rel="prefetch" href="/assets/js/5.324acea3.js"><link rel="prefetch" href="/assets/js/50.7367c1df.js"><link rel="prefetch" href="/assets/js/51.83626ff9.js"><link rel="prefetch" href="/assets/js/52.89e08b1a.js"><link rel="prefetch" href="/assets/js/53.6e2cb993.js"><link rel="prefetch" href="/assets/js/54.46e1b57f.js"><link rel="prefetch" href="/assets/js/55.f21c86df.js"><link rel="prefetch" href="/assets/js/56.763e66bb.js"><link rel="prefetch" href="/assets/js/57.0c234d89.js"><link rel="prefetch" href="/assets/js/58.ddaed26a.js"><link rel="prefetch" href="/assets/js/59.abbe33db.js"><link rel="prefetch" href="/assets/js/6.1e564d54.js"><link rel="prefetch" href="/assets/js/60.41cc8f36.js"><link rel="prefetch" href="/assets/js/62.5af6c4cf.js"><link rel="prefetch" href="/assets/js/63.b3be483a.js"><link rel="prefetch" href="/assets/js/64.e01f7670.js"><link rel="prefetch" href="/assets/js/65.a5aa4815.js"><link rel="prefetch" href="/assets/js/66.32256b09.js"><link rel="prefetch" href="/assets/js/67.308d2b42.js"><link rel="prefetch" href="/assets/js/68.81b8b810.js"><link rel="prefetch" href="/assets/js/69.d030989a.js"><link rel="prefetch" href="/assets/js/7.d371c4f7.js"><link rel="prefetch" href="/assets/js/70.f54ab2ed.js"><link rel="prefetch" href="/assets/js/71.85b10eee.js"><link rel="prefetch" href="/assets/js/72.cf4f2aef.js"><link rel="prefetch" href="/assets/js/73.73d34157.js"><link rel="prefetch" href="/assets/js/74.97bc1098.js"><link rel="prefetch" href="/assets/js/75.ae99cbb1.js"><link rel="prefetch" href="/assets/js/76.eeb239c8.js"><link rel="prefetch" href="/assets/js/77.4e615b08.js"><link rel="prefetch" href="/assets/js/78.cb55387f.js"><link rel="prefetch" href="/assets/js/79.6818a8b2.js"><link rel="prefetch" href="/assets/js/8.7a6d3673.js"><link rel="prefetch" href="/assets/js/80.6d3783f0.js"><link rel="prefetch" href="/assets/js/81.405315c1.js"><link rel="prefetch" href="/assets/js/82.8e172c6a.js"><link rel="prefetch" href="/assets/js/83.8d9783d9.js"><link rel="prefetch" href="/assets/js/84.b11be9ee.js"><link rel="prefetch" href="/assets/js/85.acb3c44e.js"><link rel="prefetch" href="/assets/js/86.74348774.js"><link rel="prefetch" href="/assets/js/87.046d24dc.js"><link rel="prefetch" href="/assets/js/88.04bcb05d.js"><link rel="prefetch" href="/assets/js/89.08fc0a34.js"><link rel="prefetch" href="/assets/js/9.0a2edccd.js"><link rel="prefetch" href="/assets/js/90.567b128d.js"><link rel="prefetch" href="/assets/js/91.80e197c3.js"><link rel="prefetch" href="/assets/js/92.6d99ef37.js"><link rel="prefetch" href="/assets/js/93.e83349b4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6a96f710.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="https://cdn.jsdelivr.net/gh/yuyujson/cdn-images@latest/blog-images/20210216171303.svg" alt="余瑜的博客" class="logo"> <span class="site-name can-hide">余瑜的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVA" class="dropdown-title"><a href="/pages/224f8e/" class="link-title">JAVA</a> <span class="title" style="display:none;">JAVA</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/224f8e/" class="nav-link">并发</a></li><li class="dropdown-item"><!----> <a href="/pages/878afc/" class="nav-link">线程池</a></li><li class="dropdown-item"><!----> <a href="/pages/5d39a7/" class="nav-link">spring</a></li><li class="dropdown-item"><!----> <a href="/pages/511867/" class="nav-link">maven</a></li><li class="dropdown-item"><!----> <a href="/pages/2cabac/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/pages/88ba01/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/88ba01/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/e3d657/" class="nav-link">mysql</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/pages/c0a252/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/c0a252/" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/pages/2a2df0/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/pages/54315c/" aria-current="page" class="nav-link router-link-exact-active router-link-active">docker</a></li><li class="dropdown-item"><!----> <a href="/pages/7516d4/" class="nav-link">terminal</a></li><li class="dropdown-item"><!----> <a href="/pages/4ceec8/" class="nav-link">kong插件开发</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/cad352/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/cad352/" class="nav-link">资料</a></li><li class="dropdown-item"><!----> <a href="/pages/877b28/" class="nav-link">leetCode-简单</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/pages/c33358/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/c33358/" class="nav-link">blog</a></li><li class="dropdown-item"><!----> <a href="/pages/91e143/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><a href="/pages/44ff0f/" class="nav-link">关于</a></div> <a href="https://github.com/yuyujson" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JAVA" class="dropdown-title"><a href="/pages/224f8e/" class="link-title">JAVA</a> <span class="title" style="display:none;">JAVA</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/224f8e/" class="nav-link">并发</a></li><li class="dropdown-item"><!----> <a href="/pages/878afc/" class="nav-link">线程池</a></li><li class="dropdown-item"><!----> <a href="/pages/5d39a7/" class="nav-link">spring</a></li><li class="dropdown-item"><!----> <a href="/pages/511867/" class="nav-link">maven</a></li><li class="dropdown-item"><!----> <a href="/pages/2cabac/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/pages/88ba01/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/88ba01/" class="nav-link">redis</a></li><li class="dropdown-item"><!----> <a href="/pages/e3d657/" class="nav-link">mysql</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="运维" class="dropdown-title"><a href="/pages/c0a252/" class="link-title">运维</a> <span class="title" style="display:none;">运维</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/c0a252/" class="nav-link">linux</a></li><li class="dropdown-item"><!----> <a href="/pages/2a2df0/" class="nav-link">zookeeper</a></li><li class="dropdown-item"><!----> <a href="/pages/54315c/" aria-current="page" class="nav-link router-link-exact-active router-link-active">docker</a></li><li class="dropdown-item"><!----> <a href="/pages/7516d4/" class="nav-link">terminal</a></li><li class="dropdown-item"><!----> <a href="/pages/4ceec8/" class="nav-link">kong插件开发</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="算法" class="dropdown-title"><a href="/pages/cad352/" class="link-title">算法</a> <span class="title" style="display:none;">算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/cad352/" class="nav-link">资料</a></li><li class="dropdown-item"><!----> <a href="/pages/877b28/" class="nav-link">leetCode-简单</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/pages/c33358/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/c33358/" class="nav-link">blog</a></li><li class="dropdown-item"><!----> <a href="/pages/91e143/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><a href="/pages/44ff0f/" class="nav-link">关于</a></div> <a href="https://github.com/yuyujson" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>linux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>zookeeper</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>docker</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/54315c/" aria-current="page" class="active sidebar-link">docker基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/54315c/#基本概念" class="sidebar-link">基本概念</a></li><li class="sidebar-sub-header level2"><a href="/pages/54315c/#配置阿里镜像源" class="sidebar-link">配置阿里镜像源</a></li><li class="sidebar-sub-header level2"><a href="/pages/54315c/#docker-常用操作" class="sidebar-link">Docker 常用操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/54315c/#镜像常用操作" class="sidebar-link">镜像常用操作</a></li><li class="sidebar-sub-header level3"><a href="/pages/54315c/#容器常用操作" class="sidebar-link">容器常用操作</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/54315c/#docker-安装-tomcat" class="sidebar-link">docker 安装 tomcat</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/54315c/#查找资源" class="sidebar-link">查找资源</a></li><li class="sidebar-sub-header level3"><a href="/pages/54315c/#下载" class="sidebar-link">下载</a></li><li class="sidebar-sub-header level3"><a href="/pages/54315c/#查看镜像信息" class="sidebar-link">查看镜像信息</a></li><li class="sidebar-sub-header level3"><a href="/pages/54315c/#启动" class="sidebar-link">启动</a></li><li class="sidebar-sub-header level3"><a href="/pages/54315c/#tomcat-配置主页" class="sidebar-link">tomcat 配置主页</a></li><li class="sidebar-sub-header level3"><a href="/pages/54315c/#删除容器及镜像" class="sidebar-link">删除容器及镜像</a></li></ul></li></ul></li><li><a href="/pages/d9ff2c/" class="sidebar-link">dockerFile</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span> terminal</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>kong插件开发</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><span data-v-06225672>运维</span></li><li data-v-06225672><span data-v-06225672>docker</span></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>余瑜</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2020-12-12</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">docker基础<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="基本概念"><a href="#基本概念" class="header-anchor">#</a> 基本概念</h2> <blockquote><p>Docker 是一个虚拟环境容器，可以将你的开发环境、代码、配置文件等一并打包到这个容器中，并发布和应用到任意平台中。比如，你在本地用 Python 开发网站后台，开发测试完成后，就可以将 Python3 及其依赖包、Flask 及其各种插件、Mysql、Nginx 等打包到一个容器中，然后部署到任意你想部署到的环境。</p></blockquote> <ul><li>镜像（Image）：类似于虚拟机中的镜像，是一个包含有文件系统的面向 Docker 引擎的只读模板。任何应用程序运行都需要环境，而镜像就是用来提供这种运行环境的。例如一个 Ubuntu 镜像就是一个包含 Ubuntu 操作系统环境的模板，同理在该镜像上装上 Apache 软件，就可以称为 Apache 镜像。</li> <li>容器（Container）：类似于一个轻量级的沙盒，可以将其看作一个极简的 Linux 系统环境（包括 root 权限、进程空间、用户空间和网络空间等），以及运行在其中的应用程序。Docker 引擎利用容器来运行、隔离各个应用。容器是镜像创建的应用实例，可以创建、启动、停止、删除容器，各个容器之间是是相互隔离的，互不影响。注意：镜像本身是只读的，容器从镜像启动时，Docker 在镜像的上层创建一个可写层，镜像本身不变。</li> <li>仓库（Repository）：类似于代码仓库，这里是镜像仓库，是 Docker 用来集中存放镜像文件的地方。注意与注册服务器（Registry）的区别：注册服务器是存放仓库的地方，一般会有多个仓库；而仓库是存放镜像的地方，一般每个仓库存放一类镜像，每个镜像利用 tag 进行区分，比如 Ubuntu 仓库存放有多个版本（12.04、14.04 等）的 Ubuntu 镜像。</li></ul> <h2 id="配置阿里镜像源"><a href="#配置阿里镜像源" class="header-anchor">#</a> 配置阿里镜像源</h2> <ol><li>登录容器镜像服务控制台后，在左侧导航栏选择镜像工具 &gt; 镜像加速器，在镜像加速器页面就会显示为您独立分配的加速器地址。</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>例如：
加速器地址：[系统分配前缀].mirror.aliyuncs.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>创建<code>/etc/docker/daemon.json</code>文件, 并写入:</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>{
&quot;registry-mirrors&quot;: [&quot;&quot;]
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>重启 daocker</li></ol> <p><a href="https://help.aliyun.com/document_detail/60750.html?spm=a2c4g.11186623.6.553.798e242f91hdh4" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="docker-常用操作"><a href="#docker-常用操作" class="header-anchor">#</a> Docker 常用操作</h2> <p>输入<code>docker</code>可以查看 Docker 的命令用法，输入<code>docker COMMAND --help</code>查看指定命令详细用法。</p> <h3 id="镜像常用操作"><a href="#镜像常用操作" class="header-anchor">#</a> 镜像常用操作</h3> <p>查找镜像：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker search 关键词
#搜索docker hub网站镜像的详细信息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>下载镜像：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker pull 镜像名:TAG
## Tag表示版本，有些镜像的版本显示latest，为最新版本
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看镜像：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker images
## 查看本地所有镜像
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>删除镜像：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker rmi -f 镜像ID或者镜像名:TAG
## 删除指定本地镜像
## -f 表示强制删除
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>获取元信息：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker inspect 镜像ID或者镜像名:TAG
## 获取镜像的元信息，详细信息
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="容器常用操作"><a href="#容器常用操作" class="header-anchor">#</a> 容器常用操作</h3> <p>运行：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker run --name 容器名 -i -t -p 主机端口:容器端口 -d -v 主机目录:容器目录:ro 镜像ID或镜像名:TAG
## --name 指定容器名，可自定义，不指定自动命名
## -i 以交互模式运行容器
## -t 分配一个伪终端，即命令行，通常-it组合来使用
## -p 指定映射端口，讲主机端口映射到容器内的端口
## -d 后台运行容器
## -v 指定挂载主机目录到容器目录，默认为rw读写模式，ro表示只读
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>容器列表：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker ps -a -q
## docker ps查看正在运行的容器
## -a 查看所有容器（运行中、未运行）
## -q 只查看容器的ID
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>启动容器：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker start 容器ID或容器名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>停止容器：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker stop 容器ID或容器名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>删除容器：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker rm -f 容器ID或容器名
## -f 表示强制删除
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>查看日志：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker logs 容器ID或容器名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>进入正在运行容器：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker exec -it 容器ID或者容器名 /bin/bash
## 进入正在运行的容器并且开启交互模式终端
## /bin/bash是固有写法，作用是因为docker后台必须运行一个进程，否则容器就会退出，在这里表示启动容器后启动bash。
## 也可以用docker exec在运行中的容器执行命令
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>拷贝文件：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker cp 主机文件路径 容器ID或容器名:容器路径 #主机中文件拷贝到容器中
docker cp 容器ID或容器名:容器路径 主机文件路径 #容器中文件拷贝到主机中
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>获取容器元信息：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker inspect 容器ID或容器名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="docker-安装-tomcat"><a href="#docker-安装-tomcat" class="header-anchor">#</a> docker 安装 tomcat</h2> <h3 id="查找资源"><a href="#查找资源" class="header-anchor">#</a> 查找资源</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code> yuyu@localhost  ~/.ssh/temp  docker search tomcat
NAME                          DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
tomcat                        Apache Tomcat is an open source implementati…   2894      [OK]
tomee                         Apache TomEE is an all-Apache Java EE certif…   85        [OK]
dordoka/tomcat                Ubuntu 14.04, Oracle JDK 8 and Tomcat 8 base…   55                   [OK]
bitnami/tomcat                Bitnami Tomcat Docker Image                     37                   [OK]
kubeguide/tomcat-app          Tomcat image for Chapter 1                      29
consol/tomcat-7.0             Tomcat 7.0.57, 8080, &quot;admin/admin&quot;              17                   [OK]
cloudesire/tomcat             Tomcat server, 6/7/8                            15                   [OK]
aallam/tomcat-mysql           Debian, Oracle JDK, Tomcat &amp; MySQL              13                   [OK]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>docker search tomcat</code> 命令可以查找到镜像对应的资源, 不过该命令不能显示镜像的详细信息, 我们下载的时候一般会加上<code>tag</code> 来确定版本信息, 这时需要到官网进行查询</p> <p><img src="https://cdn.jsdelivr.net/gh/yuyujson/cdn-images@latest/blog-images/20210207204624.png" alt="image-20210203171407470">
查询列表中, 镜像名称规则为<code>username/镜像名称,</code>前如果不带有路径, 则代表是 docker 官方发布的镜像, 也通过右上角是否标识<code>OFFICIAL IMAGE</code>来区分. 找到对应的镜像查看明细信息,选择<code>tags</code></p> <p><img src="https://cdn.jsdelivr.net/gh/yuyujson/cdn-images@latest/blog-images/20210207204609.png" alt="image-20210203171500707">
如图红框标识的为 tag 名称, 用来区分版本号</p> <h3 id="下载"><a href="#下载" class="header-anchor">#</a> 下载</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker pull tomcat:jdk8
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="查看镜像信息"><a href="#查看镜像信息" class="header-anchor">#</a> 查看镜像信息</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>docker image ls
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
tomcat       jdk8      75dbb53610ac   2 days ago    534MB
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="启动"><a href="#启动" class="header-anchor">#</a> 启动</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>yuyu@localhost  ~  docker run --name tomcat1 -p 80:8080 -d tomcat:jdk8
4a026076de8805b0b3ee890d39474e2438cbfc15ea6a8ac5ebdfbb459cd39437
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p><code>docker run</code> 命令如果没有找到本地镜像, 会先去官方镜像仓库拉取</p></blockquote> <h3 id="tomcat-配置主页"><a href="#tomcat-配置主页" class="header-anchor">#</a> tomcat 配置主页</h3> <p>官方下载的 tomcat 默认是没有主页的, 我们需要先进行配置主页才可以通过浏览器访问</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment">## 进入容器</span>
yuyu@localhost  ~  <span class="token function">docker</span> <span class="token builtin class-name">exec</span> -it tomcat1 /bin/bash
root@4a026076de88:/usr/local/tomcat<span class="token comment">## ls</span>
BUILDING.txt  CONTRIBUTING.md  LICENSE	NOTICE	README.md  RELEASE-NOTES  RUNNING.txt  bin  conf  lib  logs  native-jni-lib  temp  webapps  webapps.dist  work
root@4a026076de88:/usr/local/tomcat<span class="token comment">## cd webapps</span>
root@4a026076de88:/usr/local/tomcat/webapps<span class="token comment">## pwd</span>
/usr/local/tomcat/webapps
root@4a026076de88:/usr/local/tomcat/webapps<span class="token comment">## mkdir ROOT</span>
root@4a026076de88:/usr/local/tomcat/webapps<span class="token comment">## cd ROOT/</span>
root@4a026076de88:/usr/local/tomcat/webapps/ROOT<span class="token comment">## echo 'tomcat1' &gt; index.html</span>
root@4a026076de88:/usr/local/tomcat/webapps/ROOT<span class="token comment">## ls</span>
index.html
<span class="token comment">## 退出容器</span>
root@4a026076de88:/usr/local/tomcat/webapps/ROOT<span class="token comment">## exit</span>
<span class="token builtin class-name">exit</span>
 yuyu@localhost  ~ 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/yuyujson/cdn-images@latest/blog-images/20210207204551.png" alt="image-20210203171535608"></p> <h3 id="删除容器及镜像"><a href="#删除容器及镜像" class="header-anchor">#</a> 删除容器及镜像</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code> yuyu@localhost  ~  <span class="token function">docker</span> container <span class="token function">ls</span>
CONTAINER ID   IMAGE         COMMAND             CREATED          STATUS          PORTS                  NAMES
4a026076de88   tomcat:jdk8   <span class="token string">&quot;catalina.sh run&quot;</span>   <span class="token number">44</span> minutes ago   Up <span class="token number">44</span> minutes   <span class="token number">0.0</span>.0.0:80-<span class="token operator">&gt;</span><span class="token number">8080</span>/tcp   tomcat1
<span class="token comment">## 停止容器</span>
yuyu@localhost  ~  <span class="token function">docker</span> stop tomcat1
tomcat1
<span class="token comment">## 删除容器</span>
 yuyu@localhost  ~  <span class="token function">docker</span> <span class="token function">rm</span> tomcat1
tomcat1
 yuyu@localhost  ~  <span class="token function">docker</span> container <span class="token function">ls</span> -all
CONTAINER ID   IMAGE     COMMAND                  CREATED       STATUS                    PORTS                                                                                    NAMES
bbc379d29549   consul    <span class="token string">&quot;docker-entrypoint.s…&quot;</span>   <span class="token number">2</span> weeks ago   Exited <span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token number">3</span> days ago   <span class="token number">8300</span>-8302/tcp, <span class="token number">8600</span>/tcp, <span class="token number">8301</span>-8302/udp, <span class="token number">0.0</span>.0.0:8500-<span class="token operator">&gt;</span><span class="token number">8500</span>/tcp, <span class="token number">0.0</span>.0.0:8600-<span class="token operator">&gt;</span><span class="token number">8600</span>/udp   consul
 yuyu@localhost  ~ 
  yuyu@localhost  ~ 
 yuyu@localhost  ~ 
 yuyu@localhost  ~ 
 yuyu@localhost  ~ 
 <span class="token comment">## 删除镜像</span>
 yuyu@localhost  ~  <span class="token function">docker</span> image <span class="token function">ls</span>
REPOSITORY   TAG       IMAGE ID       CREATED       SIZE
tomcat       jdk8      75dbb53610ac   <span class="token number">2</span> days ago    534MB
consul       latest    98d273eafda1   <span class="token number">3</span> weeks ago   122MB
 ✘ yuyu@localhost  ~  <span class="token function">docker</span> rmi 75dbb53610ac
Untagged: tomcat:jdk8
Untagged: tomcat@sha256:ccd52c2878ea3d774909cf6005c43b8ae724b488b260b42284500fd13e55088c
Deleted: sha256:75dbb53610acad26579a308e0916e3def3920306d7cf952a07f8680359e50465
Deleted: sha256:660c1e67bfd7642a24cd20abe4a1a69be042ab762dad75efe02e0b895f4cb66c
Deleted: sha256:6fea099eea51aec8b9db7ad87ddf66d18c3e226558b1c33184f2c8c50befdb3e
Deleted: sha256:97762a6ce17dfc95ba2de1faa62754b0f9fbbec4526f468c290eca9594c62ec0
Deleted: sha256:5dc1d4c8a71d3a9d64d8f1840d7d69a7b468159585bf00021da97d5753bc5b0e
Deleted: sha256:5de3e672d52f7c931f75cb70881f3adc43c03d72ffa26fc7ff36a3364085c848
Deleted: sha256:2d7ffe7660587340691287aa2e8197552e074044a6e8362f7ab8d7f80f919281
Deleted: sha256:f616f88eac9441e18040ff70b49997fc3230502ff33b24852f694eebeb455e21
Deleted: sha256:495fc0ac5b34eaca0b64a2735bd618cf9c117bda4586f9f5a5faaa37a20907b1
Deleted: sha256:64c2fca04b3f5649a8505e6b7f28517ef57105e76f9e4e6a3a2ff82bd8f82eff
Deleted: sha256:f0e10b20de190c7cf4ea7ef410e7229d64facdc5d94514a13aa9b58d36fca647
 yuyu@localhost  ~ 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2021/02/20, 19:26:07</span></div></div> <div class="page-nav-wapper"><!----> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/2a2df0/" class="prev">zookeeper</a></span> <span class="next"><a href="/pages/d9ff2c/">dockerFile</a>→
      </span></p></div></div></div> <!----></main></div> <div class="footer"><div class="icons"><a href="mailto:yuy9501@126.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/yuyujson" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=5381381410" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2018-2022
    <span>逆光世间 | 备案号: <a href="https://beian.miit.gov.cn" target="_blank">京ICP备19016086号</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.b59d43b0.js" defer></script><script src="/assets/js/2.32a5b7d0.js" defer></script><script src="/assets/js/61.b5c08d00.js" defer></script>
  </body>
</html>
